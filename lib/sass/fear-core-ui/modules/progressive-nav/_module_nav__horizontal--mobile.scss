// scss-lint:disable all

@mixin horizontal-menu($mobile-hide--sibling-for-hamburger, $mobile-hide--sibling-for-menu-items) {

  #menu__mobile-level1--show {
    &:checked {
      ~ .nav {
        @include display(flex);
        display: block;
      }
    }

    ~ .nav {
      display: none;
    }
  }

  #menu__mobile--hide {
    &:checked {
      ~ #{$mobile-hide--sibling-for-hamburger} {
        .menu__button--hide-menu {
          display: none;
        }
        .menu__button--show-level1 {
          display: inline-block;
        }
      }
    }

    &:not(:checked) {
      ~ #{$mobile-hide--sibling-for-menu-items} {
        #menu__mobile-level1--show {
          &:not(:checked) {
            ~ .nav {
              @include display(flex);
              display: block;
            }
          }
        }
      }
    }

    ~ #{$mobile-hide--sibling-for-hamburger} {
      .menu__button--hide-menu {
        display: inline-block;
      }

      .menu__button--show-level1 {
        display: none;
      }
    }
  }
}

@include horizontal-menu($mobile-hide--sibling-for-hamburger: 'nav', $mobile-hide--sibling-for-menu-items: '.nav-wrapper');

.menu__hamburger {
  display: inline-block;
  padding: $spacing-default-sm;
}

.menu__mobile-level2--show {
  ~ .nav__content {
    display: none;
  }

  &:checked {
    ~ .nav__content {
      display: block;
    }
  }
}

.nav {
  @extend %nav__panel;
  @include flex-direction(column);
  position: absolute;
  top: 0;
  left: 0;
  display: none;

  > li {
    // hide desktop links
    > label {
      display: block;
    }
  }
}

%nav__panel {
  top: 0;
  left: 0;
  overflow-y: scroll;
  width: 80vw;
  height: calc(100vh - #{$nav-height});
  border-right: 1px solid $color__brand--light-grey;
  border-bottom: 1px solid $color__brand--light-grey;
}

.nav__content {
  @extend %nav__panel;
}

